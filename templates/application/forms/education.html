<div id="edu-gen-info">
  <h2>ข้อมูลทั่วไป</h2>
  <table class="header-left">
    {% if not accept_only_graduated %}
      <tr>
	<th>{{ form.has_graduated.label_tag }}:</th>
	<td>{{ form.has_graduated }}</td>
	<td>{{ form.has_graduated.errors }}</td>
      </tr>
    {% endif %}
    <tr>
      <th>{{ form.school_name.label_tag }}:</th>
      <td>{{ form.school_name }}</td>
      <td>{{ form.school_name.errors }}</td>
    </tr>
    <tr>
      <th>{{ form.school_city.label_tag }}:</th>
      <td>{{ form.school_city }}</td>
      <td>{{ form.school_city.errors }}</td>
    </tr>
    <tr>
      <th>{{ form.school_province.label_tag }}:</th>
      <td>{{ form.school_province }}</td>
      <td>{{ form.school_province.errors }}</td>
    </tr>
    <tr>
      <th>{{ form.gpax.label_tag }}:</th>
      <td>{{ form.gpax }}</td>
      <td>{{ form.gpax.errors }}</td>
    </tr>
  </table>
</div>
<div id="edu-score-box">
  <h2>คะแนนสอบ</h2>
  <div id="score-type-selection">
    คุณต้องการสมัครโดยใช้คะแนน
    {{ form.uses_gat_score }}  
    <span class="hint">(เลือก GAT/PAT หรือ A-NET)</span>
  </div>
  <div id="anet">
    <h3>ป้อนคะแนน A-NET</h3>
    <table>
      <tr>
	<td>คะแนนวิชาความถนัดทางวิศวกรรม {{ form.anet }}</td>
	<td>{{ form.anet.errors }}</td>
      </tr>
    </table>
  </div>
  <div id="anet-needed-gatpat" style="background: #ffe0e0;">
    <center>
      ในกรณีที่ผู้สมัครได้คะแนน A-NET ต่ำกว่า 35 คะแนน
      ผู้สมัครจะมีสิทธิ์สมัครก็ต่อเมื่อมีคะแนนรวมไม่น้อยกว่า 5,000 คะแนน<br/>
      ขณะนี้ระบบกำลังปรับปรุงเพื่อให้รับการป้อนคะแนนรวมดังกล่าว กรุณารอสักครู่
    </center>
  </div>
  <div id="gatpat">
    <h3>ป้อนคะแนน GAT/PAT</h3>
    <span class="hint">
      สำหรับแต่ละวิชา ให้เลือกคะแนนครั้งที่ดีที่สุด 
      อย่างไรก็ตาม ครั้งที่ดีที่สุดไม่จำเป็นต้องเป็นครั้งที่ได้คะแนนดิบสูงที่สุดเสมอไป 
      <a href="http://admission.eng.ku.ac.th/information/2553/direct/scoring2" target="_blank">อ่านรายละเอียดการคิดคะแนน</a> และ<a href="http://admission.eng.ku.ac.th/information/2553/direct/score-cal2" target="_blank">ทดลองคิดคะแนน</a><br/>
      <b>หมายเหตุ:</b> สำหรับคะแนนสอบเดือน ก.ค. 52 
      ให้ใช้คะแนนที่ประกาศเมื่อวันที่ 1 ต.ค. 52 
      หรือใช้คะแนนล่าสุดที่ประกาศในเว็บของ สทศ.
    </span>
    <table>
      <tr>
	<th>GAT:</th> 
	<td>คะแนน (X<sub>i</sub>) {{ form.gat }}</td>
	<td>สอบเมื่อ {{ form.gat_date }}</td>
	<td>{{ form.gat.errors }}</td>
      </tr>
      <tr>
	<th>PAT1:</th> 
	<td>คะแนน (X<sub>i</sub>)  {{ form.pat1 }}</td>
	<td>สอบเมื่อ {{ form.pat1_date }}</td>
	<td>{{ form.pat1.errors }}</td>
      </tr>
      <tr>
	<th>PAT3:</th> 
	<td>คะแนน (X<sub>i</sub>)  {{ form.pat3 }}</td>
	<td>สอบเมื่อ {{ form.pat3_date }}</td>
	<td>{{ form.pat3.errors }}</td>
      </tr>
    </table>
  </div>
</div>
<div id="edu-gen-info">
  <h2>ชื่ออื่นในการสอบ</h2>
  <table class="header-left">
    <tr>
      <th>ชื่อ-นามสกุลอื่น:</th>
      <td>{{ form.alt_name }} <small>(ไม่จำเป็นต้องระบุ)</small></td>
      <td>{{ form.alt_name.errors }}</td>
    </tr>  
    <tr>
      <th></th>
      <td>
	<span class="hint"> 
	  ถ้าคุณใช้ชื่อ-นามสกุลอื่นในการสอบ GAT/PAT หรือ
	  A-NET เช่นในกรณีที่มีการเปลี่ยนชื่อ กรุณาระบุที่นี่ด้วย
	  เพื่อลดความผิดพลาดในการเรียกค้นคะแนน
	</span>
      </td>
      <td></td>
    </tr>
  </table>
</div>
<script>
  var graduated_only = {% if accept_only_graduated %}true{% else %}false{% endif %};
  function allowOnlyGATPAT() {
    $("#id_uses_gat_score").val('True');
    $("#score-type-selection").hide();
  }
  function allowAllScoreType() {
    $("#score-type-selection").show();
  }
  function showGATPAT() {
    $("#edu-score-box #gatpat").show();
    $("#edu-score-box #anet").hide();
    $("#anet-needed-gatpat").hide();
  }
  function showANET() {
    $("#edu-score-box #anet").show();
    $("#anet-needed-gatpat").show();
    //$("#edu-score-box #gatpat").hide();
  }
  function updateScoreFields() {
    if($("#id_uses_gat_score").val()=='True')
      showGATPAT();
    else
      showANET();
  }
  function updateScoreSelectionField() {
    if(graduated_only || ($("#id_has_graduated").val() == 'True')) {
      allowAllScoreType();
    } else {
      allowOnlyGATPAT();
      showGATPAT();
    }
  }
  $(document).ready(function() {
    updateScoreSelectionField();
    updateScoreFields();
    $("#id_has_graduated").change(function() {
      updateScoreSelectionField();
    });
    $("#id_uses_gat_score").change(function() {
      updateScoreFields();
    });
  });
</script>
